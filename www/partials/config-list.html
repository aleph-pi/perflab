<div class="container">
  <div class="row">
	<div class="col-md-12">
	  <div class="panel panel-default">
		<div class="panel-heading">
		  <span>Configurations</span>
		  <span class="pull-right">Hide &nbsp;<input type="checkbox" ng-model="filter" ng-change="filterChanged()"></span>
		</div>
		<div class="panel-body">
		  <div class="alert alert-info" ng-show="configs.loading()">Loading...</div>
		  <div class="alert alert-warning" ng-show="configs.all && !configs.all.length">None</div>
		  <table class="table table-condensed config-list">
			<tbody>
			  <tr ng-repeat="config in configs.all track by config._id" class="config" ng-class="{hipri: config.queue.priority}" ng-hide="filter && !(config.queue.enabled || config.queue.running)">
				<td class="running">
				  <span class="fa fa-fw" ng-class="config.queue.running ? 'fa-spinner fa-spin' : ''"></span>
				</td>
				<td width="100%" class="name">
				  <span ng-class="{strike: !config.queue.enabled, hipri: config.queue.priority}">{{config.name}}</span>
				</td>
<td><div class="btn-group">
  <button type="button" class="btn btn-xs btn-primary dropdown-toggle"
    data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
    <span class="fa fa-caret-down"></span>
    <span class="fa" ng-class="config.queue.enabled ? (config.queue.repeat ? 'fa-repeat' : 'fa-play') : 'fa-pause'">
  </button>
  <ul class="dropdown-menu">
    <li ng-class="{disabled: !config.queue.enabled}"><a href="#" ng-click="configs.setEnabled(config._id, false)"><span class="fa fa-pause"></span> Disable</a></li>
    <li ng-class="{disabled: config.queue.enabled && !config.queue.repeat}"><a href="#" ng-click="configs.setEnabled(config._id, true)"><span class="fa fa-play"></span> Run once</a></li>
    <li ng-class="{disabled: config.queue.repeat}"><a href="#" ng-click="configs.setRepeat(config._id, true)"><span class="fa fa-repeat"></span> Repeat</a></li>
	<li role="separator" class="divider"></li>
	<li><a href="#" ng-click="configs.togglePriority(config._id)">
	  <span class="fa" ng-class="config.queue.priority ? 'fa-level-down' : 'fa-level-up'"></span> Change priority</a>
    </li>
  </ul>
</div></td>
				<td width="25%" nowrap align="right">
				  <a href="#/config/run/{{config._id}}/" class="icon-button btn btn-xs btn-primary"><span class="fa fa-bar-chart" title="Graph"></span></a>
				  <a href="#/config/run/{{config._id}}/list" class="icon-button btn btn-xs btn-primary"><span class="fa fa-bars" title="List"></span></a>
				  <a href="#/config/edit/{{config.type || 'bind'}}/{{config._id}}" class="fixed-button btn btn-xs btn-primary" title="Edit"><span class="fa fa-cog"></span>Edit</a>
				</td>
			  </tr>
			  <tr>
				<td colspan="4" align="right"><div class="btn-group">
				  <button type="button" class="fixed-button btn btn-xs btn-primary dropdown-toggle"
						  data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
					<span class="fa fa-caret-down"></span>New
				  </button>
				  <ul class="dropdown-menu dropdown-menu-right">
				    <li><a href="#/config/new/bind">BIND</a>
				    <li><a href="#/config/new/nsd">NSD</a>
				    <li><a href="#/config/new/knot">Knot2</a>
				    <li><a href="#/config/new/echo">Echo</a>
				  </ul>
				</div></td>
			  </tr>
			</tbody>
		  </table>
		</div>
	  </div>
	</div>
  </div>
</div>
