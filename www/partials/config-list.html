<div class="container">
  <div class="card">
	<div class="card-header">
	  <form class="form-inline">
		<span>Configurations</span>
		<span class="col-auto">
		  <input type="search" class="form-control form-control-sm form-inline" placeholder="Search" ng-model="search" />
		</span>
		<span class="btn-group">
		  <button type="button" class="fixed-button btn btn-sm btn-primary dropdown-toggle"
			data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">New
		  </button>
		  <ul class="dropdown-menu dropdown-menu">
			 <a class="dropdown-item" ng-repeat="agent in agents | filter:agentFilter" href="#/config/new/{{agent.key}}">{{agent.name}}</a>
		  </ul>
		</span>

		<span class="text-right ml-auto">

		  <span class="btn-group" ng-show="protocols.length > 1">
			<button type="button" class="fixed-button btn btn-sm btn-primary dropdown-toggle"
			  data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">Protocol
			</button>
			<ul class="dropdown-menu dropdown-menu">
			  <a class="dropdown-item bfa-icon" ng-click="setProto(undefined)" ng-class="{'fa-check': !proto }" >All</a>
			  <div class="dropdown-divider"></div>
			  <a class="dropdown-item bfa-icon" ng-repeat="p in protocols" ng-click="setProto(p)" ng-class="{'fa-check': proto === p}">{{p}}</a>
			</ul>
		  </span>

		  <span class="btn-group">
			<button type="button" class="fixed-button btn btn-sm btn-primary dropdown-toggle" title="view settings"
			  data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">Sort
			</button>
			<div class="dropdown-menu dropdown-menu" class="fa-ul">
			  <a class="dropdown-item bfa-icon" ng-class="{'fa-check': sort === 'name'}" href="" ng-click="setConfigOrder('name')">Name</a>
			  <a class="dropdown-item bfa-icon" ng-class="{'fa-check': sort === 'pri'}" href="" ng-click="setConfigOrder('pri')">Run order</a>
			</div>
		  </span>

		  <span class="btn-group" ng-show="protocols.length > 1">
			<span href="" class="fixed-button btn btn-sm btn-primary" ng-click="toggleShowArchived()">
			  <input type="checkbox" id="archived" ng-model="archived"/> Archived
			</span>
		  </span>

		</span>
	  </form>
	</div>
	<div class="card-body">
	  <div class="alert alert-info" ng-hide="configs.all.$resolved">Loading...</div>
	  <div class="table-responsive-md">
		<table class="table table-sm table-striped config-list">
		  <tbody>
			<tr perflab-config-entry ng-repeat="config in filtered_configs = (configs.all | filter:configFilter | orderBy:configOrder) track by config._id" class="config" />
		  </tbody>
		</table>
	  </div>
	  <div class="alert alert-warning" ng-cloak ng-show="configs.all.$resolved && !filtered_configs.length">None</div>
	</div>
  </div>
</div>
